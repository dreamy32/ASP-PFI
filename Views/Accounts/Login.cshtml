@model MySpace.Models.LoginCredential

@{
    ViewBag.Title = "Login";
    string alertMessage = (ViewBag.Message != null ? (string)ViewBag.Message : "");
}

@if (alertMessage != "")
{
    <h3 style="color:red">@alertMessage</h3>
}
<hr />

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <input type="hidden" name="TimeZoneOffset" id="TimeZoneOffset" />
    <div class="form-horizontal">

        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <fieldset class="formField">
            <legend>Connexion</legend>
            @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", placeholder = @Html.DisplayNameFor(model => model.Email) } })
            @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
            <br />
            @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", placeholder = @Html.DisplayNameFor(model => model.Password) } })
            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
            <br />
            <input type="submit" value="Se connecter..." class="btn btn-default" />
        </fieldset>
    </div>
}
@Html.ActionLink("S'enregistrer...", "Subscribe")
<br />
<br />
@Html.ActionLink("Mot de passe oublié...", "ResetPasswordCommand")
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script defer>var offset = new Date().getTimezoneOffset() / 60;
        console.log(offset);
        document.getElementById("TimeZoneOffset").value = offset;</script>
}
